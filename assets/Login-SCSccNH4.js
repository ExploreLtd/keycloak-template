import{r as F,u as I,j as s}from"./index-qNP_1lJU.js";import{c as t}from"./useGetClassName-DiZQUOAO.js";import{u as A}from"./useGetClassName-CN2dLvpf.js";const j=new URL(window.location.href).searchParams.get("my_custom_param");j!==null&&console.log("my_custom_param:",j);function E(k){const{kcContext:d,i18n:m,doUseDefaultCss:u,Template:b,classes:p}=k,{getClassName:e}=A({doUseDefaultCss:u,classes:p}),{social:l,realm:r,url:c,usernameHidden:x,login:h,auth:n,registrationDisabled:g}=d,{msg:o,msgStr:f}=m,[v,N]=F.useState(!1),w=I(a=>{var C;a.preventDefault(),N(!0);const i=a.target;(C=i.querySelector("input[name='email']"))==null||C.setAttribute("name","username"),i.submit()});return s.jsx(b,{kcContext:d,i18n:m,doUseDefaultCss:u,classes:p,displayInfo:r.password&&r.registrationAllowed&&!g,displayWide:r.password&&l.providers!==void 0,headerNode:o("doLogIn"),infoNode:s.jsx("div",{id:"kc-registration",children:s.jsxs("span",{children:[o("noAccount"),s.jsx("a",{tabIndex:6,href:c.registrationUrl,children:o("doRegister")})]})}),children:s.jsxs("div",{id:"kc-form",className:t(r.password&&l.providers!==void 0&&e("kcContentWrapperClass")),children:[s.jsx("div",{id:"kc-form-wrapper",className:t(r.password&&l.providers&&[e("kcFormSocialAccountContentClass"),e("kcFormSocialAccountClass")]),children:r.password&&s.jsxs("form",{id:"kc-form-login",onSubmit:w,action:c.loginAction,method:"post",children:[s.jsx("div",{className:e("kcFormGroupClass"),children:!x&&(()=>{const a=r.loginWithEmailAllowed?r.registrationEmailAsUsername?"email":"usernameOrEmail":"username",i=a==="usernameOrEmail"?"username":a;return s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:i,className:e("kcLabelClass"),children:o(a)}),s.jsx("input",{tabIndex:1,id:i,className:e("kcInputClass"),name:i,defaultValue:h.username??"",type:"text",autoFocus:!0,autoComplete:"off"})]})})()}),s.jsxs("div",{className:e("kcFormGroupClass"),children:[s.jsx("label",{htmlFor:"password",className:e("kcLabelClass"),children:o("password")}),s.jsx("input",{tabIndex:2,id:"password",className:e("kcInputClass"),name:"password",type:"password",autoComplete:"off"})]}),s.jsxs("div",{className:t(e("kcFormGroupClass"),e("kcFormSettingClass")),children:[s.jsx("div",{id:"kc-form-options",children:r.rememberMe&&!x&&s.jsx("div",{className:"checkbox",children:s.jsxs("label",{children:[s.jsx("input",{tabIndex:3,id:"rememberMe",name:"rememberMe",type:"checkbox",...h.rememberMe==="on"?{checked:!0}:{}}),o("rememberMe")]})})}),s.jsx("div",{className:e("kcFormOptionsWrapperClass"),children:r.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",{tabIndex:5,href:c.loginResetCredentialsUrl,children:o("doForgotPassword")})})})]}),s.jsxs("div",{id:"kc-form-buttons",className:e("kcFormGroupClass"),children:[s.jsx("input",{type:"hidden",id:"id-hidden-input",name:"credentialId",...(n==null?void 0:n.selectedCredential)!==void 0?{value:n.selectedCredential}:{}}),s.jsx("input",{tabIndex:4,className:"test",name:"login",id:"kc-login",type:"submit",value:f("doLogIn"),disabled:v})]})]})}),r.password&&l.providers!==void 0&&s.jsx("div",{id:"kc-social-providers",className:t(e("kcFormSocialAccountContentClass"),e("kcFormSocialAccountClass")),children:s.jsx("ul",{className:t(e("kcFormSocialAccountListClass"),l.providers.length>4&&e("kcFormSocialAccountDoubleListClass")),children:l.providers.map(a=>s.jsx("li",{className:e("kcFormSocialAccountListLinkClass"),children:s.jsx("a",{href:a.loginUrl,id:`zocial-${a.alias}`,className:t("zocial",a.providerId),children:s.jsx("span",{children:a.displayName})})},a.providerId))})})]})})}export{E as default};
