import{r as P,j as a}from"./index-Bp_uAkwv.js";import{c as r}from"./useGetClassName-CZG41LWf.js";import{u as E}from"./useGetClassName-DLudXncK.js";function y(p){const{kcContext:c,i18n:m,doUseDefaultCss:o,Template:u,classes:n}=p,{getClassName:s}=E({doUseDefaultCss:o,classes:n}),{url:d,messagesPerField:l,register:t,realm:N,passwordRequired:f,recaptchaRequired:x,recaptchaSiteKey:C}=c,{msg:e,msgStr:k}=m,{emailPrefill:h,firstNamePrefill:j,lastNamePrefill:v,usernamePrefill:F}=P.useMemo(()=>{if(typeof window>"u")return{emailPrefill:void 0,firstNamePrefill:void 0,lastNamePrefill:void 0,usernamePrefill:void 0};const i=new URLSearchParams(window.location.search),g=i.get("loginHint")??i.get("login_hint")??void 0,b=i.get("firstName")??void 0,w=i.get("lastName")??void 0,I=i.get("username")??void 0;return{emailPrefill:g,firstNamePrefill:b,lastNamePrefill:w,usernamePrefill:I}},[]);return a.jsx(u,{kcContext:c,i18n:m,doUseDefaultCss:o,classes:n,headerNode:e("registerTitle"),children:a.jsxs("form",{id:"kc-register-form",className:s("kcFormClass"),action:d.registrationAction,method:"post",children:[a.jsxs("div",{className:r(s("kcFormGroupClass"),l.printIfExists("firstName",s("kcFormGroupErrorClass"))),children:[a.jsx("div",{className:s("kcLabelWrapperClass"),children:a.jsx("label",{htmlFor:"firstName",className:s("kcLabelClass"),children:e("firstName")})}),a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("input",{type:"text",id:"firstName",className:s("kcInputClass"),name:"firstName",defaultValue:t.formData.firstName??j??""})})]}),a.jsxs("div",{className:r(s("kcFormGroupClass"),l.printIfExists("lastName",s("kcFormGroupErrorClass"))),children:[a.jsx("div",{className:s("kcLabelWrapperClass"),children:a.jsx("label",{htmlFor:"lastName",className:s("kcLabelClass"),children:e("lastName")})}),a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("input",{type:"text",id:"lastName",className:s("kcInputClass"),name:"lastName",defaultValue:t.formData.lastName??v??""})})]}),a.jsxs("div",{className:r(s("kcFormGroupClass"),l.printIfExists("email",s("kcFormGroupErrorClass"))),children:[a.jsx("div",{className:s("kcLabelWrapperClass"),children:a.jsx("label",{htmlFor:"email",className:s("kcLabelClass"),children:e("email")})}),a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("input",{type:"text",id:"email",className:s("kcInputClass"),name:"email",defaultValue:t.formData.email??h??"",autoComplete:"email"})})]}),!N.registrationEmailAsUsername&&a.jsxs("div",{className:r(s("kcFormGroupClass"),l.printIfExists("username",s("kcFormGroupErrorClass"))),children:[a.jsx("div",{className:s("kcLabelWrapperClass"),children:a.jsx("label",{htmlFor:"username",className:s("kcLabelClass"),children:e("username")})}),a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("input",{type:"text",id:"username",className:s("kcInputClass"),name:"username",defaultValue:t.formData.username??F??"",autoComplete:"username"})})]}),f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:r(s("kcFormGroupClass"),l.printIfExists("password",s("kcFormGroupErrorClass"))),children:[a.jsx("div",{className:s("kcLabelWrapperClass"),children:a.jsx("label",{htmlFor:"password",className:s("kcLabelClass"),children:e("password")})}),a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("input",{type:"password",id:"password",className:s("kcInputClass"),name:"password",autoComplete:"new-password"})})]}),a.jsxs("div",{className:r(s("kcFormGroupClass"),l.printIfExists("password-confirm",s("kcFormGroupErrorClass"))),children:[a.jsx("div",{className:s("kcLabelWrapperClass"),children:a.jsx("label",{htmlFor:"password-confirm",className:s("kcLabelClass"),children:e("passwordConfirm")})}),a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("input",{type:"password",id:"password-confirm",className:s("kcInputClass"),name:"password-confirm"})})]})]}),x&&a.jsx("div",{className:"form-group",children:a.jsx("div",{className:s("kcInputWrapperClass"),children:a.jsx("div",{className:"g-recaptcha","data-size":"compact","data-sitekey":C})})}),a.jsxs("div",{className:s("kcFormGroupClass"),children:[a.jsx("div",{id:"kc-form-options",className:s("kcFormOptionsClass"),children:a.jsx("div",{className:s("kcFormOptionsWrapperClass"),children:a.jsx("span",{children:a.jsx("a",{href:d.loginUrl,children:e("backToLogin")})})})}),a.jsx("div",{id:"kc-form-buttons",className:s("kcFormButtonsClass"),children:a.jsx("input",{className:r(s("kcButtonClass"),s("kcButtonPrimaryClass"),s("kcButtonBlockClass"),s("kcButtonLargeClass")),type:"submit",value:k("doRegister")})})]})]})})}export{y as default};
