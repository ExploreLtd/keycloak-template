import{d as y,h as Et,k as Le,m as wt,n as Ot,r as et,o as jt,e as Xe,j as Q,M as xt}from"./index-_iZ4DTxD.js";import{c as Qe}from"./useGetClassName-D0A5in9M.js";import{i as de,a as ue,r as $e,b as St}from"./assert-CSpKvI7q.js";import{u as Ct}from"./useGetClassName-vHBQqoGm.js";var tt={},le={},rt={},nt={},at={};Object.defineProperty(at,"__esModule",{value:!0});var ot={},ke={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.typeGuard=void 0;function Mt(e,t){return t}J.typeGuard=Mt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CtxLike=void 0;var t=J;(function(r){function n(o){return(0,t.typeGuard)(o,!0)&&o instanceof Object&&typeof o.done=="function"&&typeof o.abort=="function"&&typeof o.zz__addHandler=="function"&&typeof o.zz__removeHandler=="function"}r.match=n})(e.CtxLike||(e.CtxLike={}))})(ke);(function(e){var t=y&&y.__createBinding||(Object.create?function(n,o,u,f){f===void 0&&(f=u);var s=Object.getOwnPropertyDescriptor(o,u);(!s||("get"in s?!o.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(n,f,s)}:function(n,o,u,f){f===void 0&&(f=u),n[f]=o[u]}),r=y&&y.__exportStar||function(n,o){for(var u in n)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,n,u)};Object.defineProperty(e,"__esModule",{value:!0}),r(ke,e)})(ot);var ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.__hack=void 0;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ve.__hack="NOT TYPE ONLY";var Ge={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventTargetLike=void 0;var t=J;(function(r){var n;(function(_){function h(O){return(0,t.typeGuard)(O,!0)&&O instanceof Object&&typeof O.subscribe=="function"}_.match=h})(n=r.RxJSSubject||(r.RxJSSubject={}));var o;(function(_){function h(O){return(0,t.typeGuard)(O,!0)&&O instanceof Object&&typeof O.addListener=="function"&&typeof O.removeListener=="function"}_.match=h})(o=r.NodeStyleEventEmitter||(r.NodeStyleEventEmitter={}));var u;(function(_){function h(O){return(0,t.typeGuard)(O,!0)&&O instanceof Object&&typeof O.on=="function"&&typeof O.off=="function"}_.match=h})(u=r.JQueryStyleEventEmitter||(r.JQueryStyleEventEmitter={}));var f;(function(_){function h(O){return(0,t.typeGuard)(O,!0)&&O instanceof Object&&typeof O.addEventListener=="function"&&typeof O.removeEventListener=="function"}_.match=h})(f=r.HasEventTargetAddRemove||(r.HasEventTargetAddRemove={}));function s(_){try{return f.match(_)||o.match(_)||u.match(_)||n.match(_)}catch{return!1}}r.canBe=s})(e.EventTargetLike||(e.EventTargetLike={}))})(Ge);var Y={},it=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Y,"__esModule",{value:!0});Y.DetachedEvtError=Y.TimeoutEvtError=void 0;var At=function(e){it(t,e);function t(r){var n=this.constructor,o=e.call(this,"Evt timeout after ".concat(r,"ms"))||this;return o.timeout=r,Object.setPrototypeOf(o,n.prototype),o}return t}(Error);Y.TimeoutEvtError=At;var Dt=function(e){it(t,e);function t(){var r=this.constructor,n=e.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(n,r.prototype),n}return t}(Error);Y.DetachedEvtError=Dt;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});(function(e){var t=y&&y.__createBinding||(Object.create?function(u,f,s,_){_===void 0&&(_=s);var h=Object.getOwnPropertyDescriptor(f,s);(!h||("get"in h?!f.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return f[s]}}),Object.defineProperty(u,_,h)}:function(u,f,s,_){_===void 0&&(_=s),u[_]=f[s]}),r=y&&y.__setModuleDefault||(Object.create?function(u,f){Object.defineProperty(u,"default",{enumerable:!0,value:f})}:function(u,f){u.default=f}),n=y&&y.__exportStar||function(u,f){for(var s in u)s!=="default"&&!Object.prototype.hasOwnProperty.call(f,s)&&t(f,u,s)},o=y&&y.__importStar||function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var s in u)s!=="default"&&Object.prototype.hasOwnProperty.call(u,s)&&t(f,u,s);return r(f,u),f};Object.defineProperty(e,"__esModule",{value:!0}),e.dom=void 0,n(at,e),n(ot,e),e.dom=o(ve),n(Ge,e),n(Y,e),n(ut,e)})(nt);var lt={},Z={},Ie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertOperatorToStatelessFλ=void 0;function t(o){var u=o[1];return function(f,s){var _=o[0](f,u,s);return _!==null&&s(function(){return u=_[0]}),_}}function r(o){return function(u,f){var s=o(u,f);return s instanceof Object&&!("input"in s)&&s.length===1?s:s?[u]:null}}function n(o){return typeof o!="function"?t(o):r(o)}e.convertOperatorToStatelessFλ=n})(Ie);var fe=y&&y.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)u.push(o.value)}catch(s){f={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return u},Ht=y&&y.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,u;n<o;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(Z,"__esModule",{value:!0});Z.compose=void 0;var Re=Ie,zt=de;function Rt(e,t){var r=(0,Re.convertOperatorToStatelessFλ)(e),n=(0,Re.convertOperatorToStatelessFλ)(t);return(0,zt.id)(function(o,u){var f=r(o,u);if(!f)return null;var s=fe(f,1),_=s[0],h=n(_,u);return h&&[h[0]]})}function ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){var r=fe(e,1),n=r[0];return(0,Re.convertOperatorToStatelessFλ)(n)}var o=fe(e),u=o[0],f=o[1],s=o.slice(2),_=Rt(u,f);return s.length===0?_:ct.apply(void 0,Ht([_],fe(s),!1))}Z.compose=ct;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compose=void 0;var t=Z;Object.defineProperty(e,"compose",{enumerable:!0,get:function(){return t.compose}})})(lt);var st={},oe={},F={};Object.defineProperty(F,"__esModule",{value:!0});F.importProxy=void 0;F.importProxy={};Object.defineProperty(oe,"__esModule",{value:!0});oe.LazyEvt=void 0;var Tt=ue(),Bt=F,Ft=function(){function e(){this.initialPostCount=0}return Object.defineProperty(e.prototype,"evt",{get:function(){return this.__evt===void 0&&(this.__evt=new Bt.importProxy.Evt,(0,Tt.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},enumerable:!1,configurable:!0}),e.prototype.__post=function(t,r){return this.__evt===void 0?++this.initialPostCount:this.__evt[r?"postAndWait":"post"](t)},e.prototype.post=function(t){return this.__post(t,!1)},e.prototype.postAndWait=function(t){return this.__post(t,!0)},e}();oe.LazyEvt=Ft;(function(e){var t=y&&y.__assign||function(){return t=Object.assign||function(m){for(var p,b=1,g=arguments.length;b<g;b++){p=arguments[b];for(var j in p)Object.prototype.hasOwnProperty.call(p,j)&&(m[j]=p[j])}return m},t.apply(this,arguments)},r=y&&y.__values||function(m){var p=typeof Symbol=="function"&&Symbol.iterator,b=p&&m[p],g=0;if(b)return b.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&g>=m.length&&(m=void 0),{value:m&&m[g++],done:!m}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Ctx=void 0;var n=Et,o=Le,u=$e(),f=St,s=oe,_=F,h=ue(),O=function(){function m(){this.lazyEvtAttach=new s.LazyEvt,this.lazyEvtDetach=new s.LazyEvt,this.lazyEvtDoneOrAborted=new s.LazyEvt,this.handlers=new n.Polyfill,this.evtByHandler=new o.Polyfill}return Object.defineProperty(m.prototype,"evtDoneOrAborted",{get:function(){return this.lazyEvtDoneOrAborted.evt},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtAttach",{get:function(){return this.lazyEvtAttach.evt},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtDetach",{get:function(){return this.lazyEvtDetach.evt},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"completionStatus",{get:function(){return this.__completionStatus},enumerable:!1,configurable:!0}),m.prototype.onDoneOrAborted=function(p){this.__completionStatus=p,this.lazyEvtDoneOrAborted.post(p)},m.prototype.waitFor=function(p){var b=this;return this.evtDoneOrAborted.waitFor(p).then(function(g){if(g.type==="ABORTED")throw g.error;return g.result},function(g){throw b.abort(g),g})},m.prototype.abort=function(p){return this.__done(p)},m.prototype.done=function(p){return this.__done(void 0,p)},m.prototype.__done=function(p,b){var g,j,x=[];try{for(var C=r(this.handlers.values()),M=C.next();!M.done;M=C.next()){var R=M.value,W=this.evtByHandler.get(R),V=R.detach();V&&x.push({handler:R,evt:W})}}catch(X){g={error:X}}finally{try{M&&!M.done&&(j=C.return)&&j.call(C)}finally{if(g)throw g.error}}return this.onDoneOrAborted(t(t({},p?{type:"ABORTED",error:p}:{type:"DONE",result:b}),{handlers:x})),x},m.prototype.getHandlers=function(){var p=this;return Array.from(this.handlers.values()).map(function(b){return{handler:b,evt:p.evtByHandler.get(b)}})},m.prototype.zz__addHandler=function(p,b){if((0,u.assert)(p.ctx===this),(0,u.assert)((0,f.is)(p)),this.completionStatus!==void 0){p.detach();return}this.handlers.add(p),this.evtByHandler.set(p,b),this.lazyEvtAttach.post({handler:p,evt:b})},m.prototype.zz__removeHandler=function(p){(0,u.assert)(p.ctx===this),(0,u.assert)((0,f.is)(p)),this.lazyEvtDetach.post({handler:p,evt:this.evtByHandler.get(p)}),this.handlers.delete(p)},m}();e.Ctx=O;try{(0,h.overwriteReadonlyProp)(e.Ctx,"name","Ctx")}catch{}_.importProxy.Ctx=e.Ctx})(st);var Ne={},pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.create=void 0;var Ue=F;function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?new Ue.importProxy.Evt:new Ue.importProxy.StatefulEvt(e[0])}pe.create=Lt;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.getCtxFactory=void 0;var $t=Le,kt=F;function Gt(){var e=new $t.Polyfill;function t(r){var n=e.get(r);return n===void 0&&(n=new kt.importProxy.Ctx,e.set(r,n)),n}return t}ye.getCtxFactory=Gt;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.factorize=void 0;function It(e){return e}he.factorize=It;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.merge=q.mergeImpl=void 0;var Nt=F;function Te(e,t){var r=new Nt.importProxy.Evt,n=function(o){return r.post(o)};return t.forEach(function(o){e===void 0?o.attach(n):o.attach(e,n)}),r}q.mergeImpl=Te;function Wt(e,t){return"length"in e?Te(void 0,e):Te(e,t)}q.merge=Wt;var _e={},Vt=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Jt=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xt=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vt(t,e,r);return Jt(t,e),t},Qt=y&&y.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)u.push(o.value)}catch(s){f={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return u};Object.defineProperty(_e,"__esModule",{value:!0});_e.from=void 0;var Ut=de,K=$e(),$=J,Kt=q,Be=F,Yt=Xt(Ge),ie=Yt.EventTargetLike;function Fe(e,t,r,n){var o=function(m){return ie.canBe(m)};if(!o(t)){if("then"in t){var u=new Be.importProxy.Evt,f=function(){var m=function(){return e==null?void 0:e.evtDoneOrAborted.postCount},p=m();return function(){return p!==m()}}();return t.then(function(m){f()||u.post(m)}),u}return(0,Kt.mergeImpl)(e,Array.from(t).map(function(m){return Fe(e,m,r,n)}))}var s;if(ie.HasEventTargetAddRemove.match(t))s={on:function(m,p,b){return t.addEventListener(p,m,b)},off:function(m,p,b){return t.removeEventListener(p,m,b)}};else if(ie.NodeStyleEventEmitter.match(t))s={on:function(m,p){return t.addListener(p,m)},off:function(m,p){return t.removeListener(p,m)}};else if(ie.JQueryStyleEventEmitter.match(t))s={on:function(m,p){return t.on(p,m)},off:function(m,p){return t.off(p,m)}};else if(ie.RxJSSubject.match(t)){var _;s={on:function(m){return _=t.subscribe(function(p){return m(p)})},off:function(){return _.unsubscribe()}}}else(0,Ut.id)(t),(0,K.assert)(!1);var h=new Be.importProxy.Evt,O=function(m){return h.post(m)};return e==null||e.evtDoneOrAborted.attachOnce(function(){return s.off(O,r,n)}),s.on(O,r,n),h}function Ke(e,t,r){var n=Be.importProxy.Evt.create(),o=function(f){var s=Qt(f,1),_=s[0];return n.post(_)},u=new t(o);return u.observe(r),e==null||e.evtDoneOrAborted.attachOnce(function(){return u.disconnect()}),n}function qt(e,t,r,n){return"evtDoneOrAborted"in e?((0,K.assert)((0,$.typeGuard)(t,!0)&&(0,$.typeGuard)(r,!0)&&(0,$.typeGuard)(n,!0)),typeof t=="function"?((0,K.assert)((0,$.typeGuard)(r,!0)&&(0,$.typeGuard)(n,!0)),Ke(e,t,r)):((0,K.assert)((0,$.typeGuard)(r,!0)),Fe(e,t,r,n))):((0,K.assert)((0,$.typeGuard)(e,!0)&&(0,$.typeGuard)(t,!0)&&(0,$.typeGuard)(r,!0)),typeof e=="function"?((0,K.assert)((0,$.typeGuard)(t,!0)&&(0,$.typeGuard)(r,!0)),Ke(void 0,e,t)):((0,K.assert)((0,$.typeGuard)(t,!0)),Fe(void 0,e,t,r)))}_e.from=qt;var me={};Object.defineProperty(me,"__esModule",{value:!0});me.asPostable=void 0;function Zt(e){return e}me.asPostable=Zt;var ge={},er=y&&y.__awaiter||function(e,t,r,n){function o(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function s(O){try{h(n.next(O))}catch(m){f(m)}}function _(O){try{h(n.throw(O))}catch(m){f(m)}}function h(O){O.done?u(O.value):o(O.value).then(s,_)}h((n=n.apply(e,t||[])).next())})},tr=y&&y.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,o,u,f;return f={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function s(h){return function(O){return _([h,O])}}function _(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(u=h[0]&2?o.return:h[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,h[1])).done)return u;switch(o=0,u&&(h=[h[0]&2,u.value]),h[0]){case 0:case 1:u=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,o=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!u||h[1]>u[0]&&h[1]<u[3])){r.label=h[1];break}if(h[0]===6&&r.label<u[1]){r.label=u[1],u=h;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(h);break}u[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(O){h=[6,O],o=0}finally{n=u=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(ge,"__esModule",{value:!0});ge.asyncPipe=void 0;var Ye=F;function rr(e,t){var r=this,n="state"in e?Ye.importProxy.Evt.create(void 0):Ye.importProxy.Evt.create(),o=0;return e.attach(function(u){return er(r,void 0,void 0,function(){var f,s,_;return tr(this,function(h){switch(h.label){case 0:return o++,f=o,s=t(u),s!==null&&"then"in s?[4,s]:[3,2];case 1:return _=h.sent(),"state"in e&&f!==o?[2]:[3,3];case 2:_=s,h.label=3;case 3:return _?(n.post(_[0]),[2]):[2]}})})}),n}ge.asyncPipe=rr;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.asNonPostable=void 0;function nr(e){return e}be.asNonPostable=nr;var re={},H=y&&y.__assign||function(){return H=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},H.apply(this,arguments)},U=y&&y.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)u.push(o.value)}catch(s){f={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return u},He=y&&y.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,u;n<o;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(re,"__esModule",{value:!0});re.parsePropsFromArgs=re.matchAll=void 0;var N=de,ar=Z,or=J;function ft(){return!0}re.matchAll=ft;var ze=function(e){return e!==void 0&&(0,or.typeGuard)(e,!0)&&(typeof e=="function"||typeof e[0]=="function")},k={op:ft,ctx:void 0,timeout:void 0,callback:void 0};function dt(e,t){switch(t){case"pipe":{var r=function(M){return M.length===0?{}:{op:M.length===1?M[0]:ar.compose.apply(void 0,He([],U(M),!1))}};if(ze(e[0]))return(0,N.id)(H(H({},k),r(e)));var n=U(e),o=n[0],u=n.slice(1);return(0,N.id)(H(H(H({},k),o!==void 0?{ctx:o}:{}),r(u)))}case"waitFor":return dt(He(He([],U(e.filter(function(M,R){return!(R===e.length-1&&M===void 0)})),!1),[k.callback],!1),"attach*");case"attach*":{var f=e.length;switch(f){case 4:{var s=U(e,4),_=s[0],h=s[1],O=s[2],m=s[3];return(0,N.id)(H(H({},k),{op:_,ctx:h,timeout:O,callback:m}))}case 3:{var p=U(e,3),_=p[0],h=p[1],O=p[2];if(typeof h=="number"){var b=h,g=O;return ze(_)?(0,N.id)(H(H({},k),{timeout:b,callback:g,op:_})):(0,N.id)(H(H({},k),{timeout:b,callback:g,ctx:_}))}else return(0,N.id)(H(H({},k),{op:_,ctx:h,callback:O}))}case 2:{var j=U(e,2),_=j[0],h=j[1];if(typeof _=="number")return(0,N.id)(H(H({},k),{timeout:_,callback:h}));var g=h;return ze(_)?(0,N.id)(H(H({},k),{callback:g,op:_})):(0,N.id)(H(H({},k),{callback:g,ctx:_}))}case 1:{var x=U(e,1),C=x[0];return(0,N.id)(H(H({},k),{callback:C}))}case 0:return(0,N.id)(H({},k))}}break}}re.parsePropsFromArgs=dt;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.newCtx=void 0;var ir=F;function ur(){return new ir.importProxy.Ctx}Pe.newCtx=ur;var ne={},lr=y&&y.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ne,"__esModule",{value:!0});ne.VoidDeferred=ne.Deferred=void 0;var qe=ue(),vt=function(){function e(){var t=this;this.isPending=!0;var r,n;this.pr=new Promise(function(o,u){r=function(f){(0,qe.overwriteReadonlyProp)(t,"isPending",!1),o(f)},n=function(f){(0,qe.overwriteReadonlyProp)(t,"isPending",!1),u(f)}}),this.resolve=r,this.reject=n}return e}();ne.Deferred=vt;var cr=function(e){lr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(vt);ne.VoidDeferred=cr;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.loosenType=void 0;function sr(e){return e}Ee.loosenType=sr;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.safeClearTimeout=ae.safeSetTimeout=void 0;var fr=function(e,t){return setTimeout(e,t)};ae.safeSetTimeout=fr;var dr=function(e){return clearTimeout(e)};ae.safeClearTimeout=dr;var we={};Object.defineProperty(we,"__esModule",{value:!0});we.isPromiseLike=void 0;function vr(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"}we.isPromiseLike=vr;(function(e){var t=y&&y.__assign||function(){return t=Object.assign||function(l){for(var i,a=1,d=arguments.length;a<d;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(l[c]=i[c])}return l},t.apply(this,arguments)},r=y&&y.__createBinding||(Object.create?function(l,i,a,d){d===void 0&&(d=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(l,d,c)}:function(l,i,a,d){d===void 0&&(d=a),l[d]=i[a]}),n=y&&y.__setModuleDefault||(Object.create?function(l,i){Object.defineProperty(l,"default",{enumerable:!0,value:i})}:function(l,i){l.default=i}),o=y&&y.__importStar||function(l){if(l&&l.__esModule)return l;var i={};if(l!=null)for(var a in l)a!=="default"&&Object.prototype.hasOwnProperty.call(l,a)&&r(i,l,a);return n(i,l),i},u=y&&y.__awaiter||function(l,i,a,d){function c(v){return v instanceof a?v:new a(function(w){w(v)})}return new(a||(a=Promise))(function(v,w){function P(A){try{E(d.next(A))}catch(T){w(T)}}function S(A){try{E(d.throw(A))}catch(T){w(T)}}function E(A){A.done?v(A.value):c(A.value).then(P,S)}E((d=d.apply(l,i||[])).next())})},f=y&&y.__generator||function(l,i){var a={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},d,c,v,w;return w={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function P(E){return function(A){return S([E,A])}}function S(E){if(d)throw new TypeError("Generator is already executing.");for(;a;)try{if(d=1,c&&(v=E[0]&2?c.return:E[0]?c.throw||((v=c.return)&&v.call(c),0):c.next)&&!(v=v.call(c,E[1])).done)return v;switch(c=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,c=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(v=a.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){a.label=E[1];break}if(E[0]===6&&a.label<v[1]){a.label=v[1],v=E;break}if(v&&a.label<v[2]){a.label=v[2],a.ops.push(E);break}v[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(l,a)}catch(A){E=[6,A],c=0}finally{d=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},s=y&&y.__read||function(l,i){var a=typeof Symbol=="function"&&l[Symbol.iterator];if(!a)return l;var d=a.call(l),c,v=[],w;try{for(;(i===void 0||i-- >0)&&!(c=d.next()).done;)v.push(c.value)}catch(P){w={error:P}}finally{try{c&&!c.done&&(a=d.return)&&a.call(d)}finally{if(w)throw w.error}}return v},_=y&&y.__spreadArray||function(l,i,a){if(a||arguments.length===2)for(var d=0,c=i.length,v;d<c;d++)(v||!(d in i))&&(v||(v=Array.prototype.slice.call(i,0,d)),v[d]=i[d]);return l.concat(v||Array.prototype.slice.call(i))},h=y&&y.__values||function(l){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&l[i],d=0;if(a)return a.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Evt=e.onAddHandlerByEvt=void 0;var O=Ot,m=Le,p=F,b=pe,g=ye,j=he,x=q,C=_e,M=me,R=ge,W=be,V=re,X=Pe,ce=oe,se=o(wt),We=ue(),Ve=J,Me=ne,ht=Ee,Ae=ae,_t=we,De=Y,mt=o(ke),gt=Ie,Je=function(l){return l()},bt=mt.CtxLike,Pt=function(){function l(){this.lazyEvtAttach=new ce.LazyEvt,this.lazyEvtDetach=new ce.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new O.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return l.setDefaultMaxHandlers=function(i){this.__defaultMaxHandlers=isFinite(i)?i:0},l.prototype.toStateful=function(i,a){var d=bt.match(i),c=d?void 0:i,v=a||(d?i:void 0),w=new p.importProxy.StatefulEvt(c),P=function(S){return w.post(S)};return v?this.attach(v,P):this.attach(P),w},Object.defineProperty(l.prototype,"evtAttach",{get:function(){return this.lazyEvtAttach.evt},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"evtDetach",{get:function(){return this.lazyEvtDetach.evt},enumerable:!1,configurable:!0}),l.prototype.setMaxHandlers=function(i){return this.__maxHandlers=isFinite(i)?i:0,this},l.prototype.enableTrace=function(i){var a=i.id,d=i.formatter,c=i.log;this.traceId=a,this.traceFormatter=d||function(v){try{return JSON.stringify(v,null,2)}catch{return"".concat(v)}},this.log=c===void 0?function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];return console.log.apply(console,_([],s(v),!1))}:c===!1?void 0:c},l.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(l.prototype,"asyncHandlerChronologyMark",{get:function(){var i,a,d,c;return(a=(c=(i=(d=this)["~internal"])!==null&&i!==void 0?i:d["~internal"]={}).asyncHandlerChronologyMark)!==null&&a!==void 0?a:c.asyncHandlerChronologyMark=new m.Polyfill},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"asyncHandlerChronologyExceptionRange",{get:function(){var i,a,d,c;return(a=(c=(i=(d=this)["~internal"])!==null&&i!==void 0?i:d["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&a!==void 0?a:c.asyncHandlerChronologyExceptionRange=new m.Polyfill},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"invocableOpByOp",{get:function(){var i,a,d,c;return(a=(c=(i=(d=this)["~internal"])!==null&&i!==void 0?i:d["~internal"]={}).invocableOpByOp)!==null&&a!==void 0?a:c.invocableOpByOp=new m.Polyfill},enumerable:!1,configurable:!0}),l.prototype.getInvocableOp=function(i){var a=this.invocableOpByOp.get(i);if(a===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return a},l.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},l.prototype.detachHandler=function(i,a,d){var c=this.handlers.indexOf(i);return c<0?!1:((0,Ve.typeGuard)(i,!!i.ctx)&&i.ctx.zz__removeHandler(i),this.handlers.splice(c,1),i.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(i),a[0]!==void 0&&((0,Ae.safeClearTimeout)(a[0]),d(new De.DetachedEvtError)),this.lazyEvtDetach.post(i),!0)},l.prototype.triggerHandler=function(i,a,d,c){var v=i.callback,w=i.once;a[0]!==void 0&&((0,Ae.safeClearTimeout)(a[0]),a[0]=void 0),w&&i.detach();var P=s(c,1),S=P[0],E=v==null?void 0:v.call(this,S);return d==null||d(S),(0,_t.isPromiseLike)(E)?E:void 0},l.prototype.addHandler=function(i,a){var d=this,c;this.invocableOpByOp.set(i.op,(0,gt.convertOperatorToStatelessFλ)(i.op));var v=new Me.Deferred,w=[void 0],P=t(t(t({},i),a),{detach:function(){return d.detachHandler(P,w,v.reject)},promise:v.pr});typeof P.timeout=="number"&&(w[0]=(0,Ae.safeSetTimeout)(function(){w[0]=void 0,P.detach(),v.reject(new De.TimeoutEvtError(P.timeout))},P.timeout));var S=function(A){return d.triggerHandler(P,w,v.isPending?v.resolve:void 0,A)};if(this.handlerTriggers.set(P,S),P.async&&this.asyncHandlerChronologyMark.set(P,this.getChronologyMark()),P.prepend){var E=void 0;for(E=0;E<this.handlers.length&&this.handlers[E].extract;E++);this.handlers.splice(E,0,P)}else this.handlers.push(P);return P.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,Ve.typeGuard)(P,!!P.ctx)&&P.ctx.zz__addHandler(P,this),(c=e.onAddHandlerByEvt.get(this))===null||c===void 0||c(P,S),this.handlerTriggers.has(P)&&this.lazyEvtAttach.post(P),P},l.prototype.checkForPotentialMemoryLeak=function(){var i=this.__maxHandlers!==void 0?this.__maxHandlers:l.__defaultMaxHandlers;if(!(i===0||this.handlers.length%(i+1)!==0)){var a=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(l.__defaultMaxHandlers,`.
`)].join(""),d=new O.Polyfill;this.getHandlers().map(function(c){var v=c.ctx,w=c.async,P=c.once,S=c.prepend,E=c.extract,A=c.op,T=c.callback;return t(t({hasCtx:!!v,once:P,prepend:S,extract:E,isWaitFor:w},A===V.matchAll?{}:{op:A.toString()}),T?{callback:T.toString()}:{})}).map(function(c){return`{
`+Object.keys(c).map(function(v){return"  ".concat(v,": ").concat(c[v])}).join(`,
`)+`
}`}).forEach(function(c){return d.set(c,(d.has(c)?d.get(c):0)+1)}),a+=`
`+Array.from(d.keys()).map(function(c){return"".concat(d.get(c)," handler").concat(d.get(c)===1?"":"s",` like:
`).concat(c)}).join(`
`)+`
`,this.traceId===null&&(a+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(a)}catch{}}},l.prototype.isHandledByOp=function(i,a){var d=!1,c;try{c=this.getInvocableOp(i)}catch{return!1}var v=c(a,function(){return d=!0});return v!==null||d},l.prototype.trace=function(i){var a=this,d;if(this.traceId!==null){var c="(".concat(this.traceId,") "),v=!!this.handlers.find(function(P){var S=P.extract,E=P.op;return S&&a.isHandledByOp(E,i)});if(v)c+="extracted ";else{var w=this.handlers.filter(function(P){var S=P.extract,E=P.op;return!S&&a.isHandledByOp(E,i)}).length;c+="".concat(w," handler").concat(w>1?"s":"",", ")}(d=this.log)===null||d===void 0||d.call(this,c+this.traceFormatter(i))}},l.prototype.postSync=function(i){var a,d,c=[],v=function(B){return[B,Promise.all(c).then(function(){})]};try{for(var w=h(_([],s(this.handlers),!1)),P=w.next();!P.done;P=w.next()){var S=P.value,E=S.async,A=S.op,T=S.extract;if(!E){var ee=this.handlerTriggers.get(S),z=this.getInvocableOp(A)(i,Je);if(z!==null&&ee){var D=ee(z);if(D!==void 0&&c.push(D),T)return v(!0)}}}}catch(B){a={error:B}}finally{try{P&&!P.done&&(d=w.return)&&d.call(w)}finally{if(a)throw a.error}}return v(!1)},l.prototype.postAsyncFactory=function(){var i=this;return se.buildMethodCb(function(a,d,c){var v,w;if(i.asyncHandlerCount===0){c();return}var P=[],S;Promise.resolve().then(function(){return S=i.getChronologyMark()});var E=function(D){if(!D.async)return"continue";var B=i.getInvocableOp(D.op)(a,Je);if(B===null)return"continue";var L=i.handlerTriggers.get(D);if(!L)return"continue";var G=function(){var I=i.asyncHandlerChronologyMark.get(D);if(d>I)return!0;var te=i.asyncHandlerChronologyExceptionRange.get(D);return te!==void 0&&te.lowerMark<d&&d<te.upperMark&&I>te.upperMark}();if(!G)return"continue";P.push(new Promise(function(I){return D.promise.then(function(){return I()}).catch(function(){return I()})})),L(B)};try{for(var A=h(_([],s(i.handlers),!1)),T=A.next();!T.done;T=A.next()){var ee=T.value;E(ee)}}catch(D){v={error:D}}finally{try{T&&!T.done&&(w=A.return)&&w.call(A)}finally{if(v)throw v.error}}if(P.length===0){c();return}var z=_([],s(i.handlers),!1);Promise.all(P).then(function(){var D,B;try{for(var L=h(i.handlers),G=L.next();!G.done;G=L.next()){var I=G.value;I.async&&(z.indexOf(I)>=0||i.asyncHandlerChronologyExceptionRange.set(I,{lowerMark:d,upperMark:S}))}}catch(te){D={error:te}}finally{try{G&&!G.done&&(B=L.return)&&B.call(L)}finally{if(D)throw D.error}}c()})})},l.prototype.isHandled=function(i){var a=this;return!!this.getHandlers().find(function(d){var c=d.op;return a.isHandledByOp(c,i)})},l.prototype.getHandlers=function(){return _([],s(this.handlers),!1)},l.prototype.detach=function(i){var a,d,c=[];try{for(var v=h(this.getHandlers()),w=v.next();!w.done;w=v.next()){var P=w.value;if(!(i!==void 0&&P.ctx!==i)){var S=P.detach();S&&c.push(P)}}}catch(E){a={error:E}}finally{try{w&&!w.done&&(d=v.return)&&d.call(v)}finally{if(a)throw a.error}}return c},l.prototype.pipe=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var d=new l;return this.addHandler(t(t({},(0,V.parsePropsFromArgs)(i,"pipe")),{callback:function(c){return d.post(c)}}),l.propsFormMethodNames.attach),d},l.prototype.waitFor=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.addHandler((0,V.parsePropsFromArgs)(i,"waitFor"),l.propsFormMethodNames.waitFor).promise},l.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},l.prototype.iter=function(){for(var i,a,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];var v=(0,V.parsePropsFromArgs)(d,"waitFor"),w=(a=v.ctx)!==null&&a!==void 0?a:(0,X.newCtx)(),P=this;return i={ctx:w},i[Symbol.asyncIterator]=function(){var S=w.evtDoneOrAborted.postCount,E=function(){var z=v.timeout;if(z!==void 0){var D=function(){var L=new De.TimeoutEvtError(z);w.abort(L)},B=setTimeout(D,z);return{timeout:z,setTimeoutCallback:D,timer:B}}}(),A=P.pipe(w,v.op).pipe(function(z,D){return E!==void 0&&D(function(){clearTimeout(E.timer),E.timer=setTimeout(E.setTimeoutCallback,E.timeout)}),[z]}),T=[];if(A.attach(function(z){return T.push([z])}),E!==void 0){var ee=E.timer;w.evtDoneOrAborted.attachOnce(function(z){return z.type==="DONE"},function(){return clearTimeout(ee)})}return{next:function(){return u(this,void 0,void 0,function(){var z,D,B,L;return f(this,function(G){switch(G.label){case 0:return z=T.shift(),z!==void 0?[3,2]:(D=new Me.Deferred,S<w.evtDoneOrAborted.postCount?[2,{done:!0}]:(B=(0,X.newCtx)(),w.evtDoneOrAborted.attachOnce(B,function(){return D.resolve(void 0)}),A.attachOnceExtract(B,function(I){B.done(),D.resolve([I])}),[4,D.pr]));case 1:if(z=G.sent(),z===void 0)return[2,{done:!0}];G.label=2;case 2:return L={done:!1,value:z[0]},[2,L]}})})},return:function(){return P.detach(w),{done:!0}}}},i},l.prototype.$attach=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.attach.apply(this,_([],s(i),!1))},l.prototype.attach=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.__attachX(i,"attach")},l.prototype.$attachOnce=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.attachOnce.apply(this,_([],s(i),!1))},l.prototype.attachOnce=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.__attachX(i,"attachOnce")},l.prototype.$attachExtract=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.attachExtract.apply(this,_([],s(i),!1))},l.prototype.attachExtract=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.__attachX(i,"attachExtract")},l.prototype.$attachPrepend=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.attachPrepend.apply(this,_([],s(i),!1))},l.prototype.attachPrepend=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.__attachX(i,"attachPrepend")},l.prototype.$attachOncePrepend=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.attachOncePrepend.apply(this,_([],s(i),!1))},l.prototype.attachOncePrepend=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.__attachX(i,"attachOncePrepend")},l.prototype.$attachOnceExtract=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.attachOnceExtract.apply(this,_([],s(i),!1))},l.prototype.attachOnceExtract=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return this.__attachX(i,"attachOnceExtract")},l.prototype.__attachX=function(i,a){var d=(0,V.parsePropsFromArgs)(i,"attach*"),c=this.addHandler(d,l.propsFormMethodNames[a]);return d.timeout===void 0?this:c.promise},l.prototype.postAsyncOnceHandled=function(i){var a=this;if(this.isHandled(i))return this.post(i);var d=new Me.Deferred;return this.evtAttach.attachOnce(function(c){var v=c.op;return a.isHandledByOp(v,i)},function(){return Promise.resolve().then(function(){return d.resolve(a.post(i))})}),d.pr},l.prototype.postOrPostAndWait=function(i,a){var d=this;this.trace(i),(0,We.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var c=this.getChronologyMark(),v=s(this.postSync(i),2),w=v[0],P=v[1],S=a?function(){return P}:function(){return d.postCount};if(w)return S();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return S();this.postAsync=this.postAsyncFactory()}return this.postAsync(i,c),S()},l.prototype.post=function(i){return this.postOrPostAndWait(i,!1)},l.prototype.postAndWait=function(i){return this.postOrPostAndWait(i,!0)},l.create=b.create,l.newCtx=X.newCtx,l.merge=x.merge,l.from=C.from,l.getCtx=(0,g.getCtxFactory)(),l.loosenType=ht.loosenType,l.factorize=j.factorize,l.asPostable=M.asPostable,l.asyncPipe=R.asyncPipe,l.asNonPostable=W.asNonPostable,l.__defaultMaxHandlers=25,l.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},l}();e.onAddHandlerByEvt=new m.Polyfill,e.Evt=Pt;try{(0,We.overwriteReadonlyProp)(e.Evt,"name","Evt")}catch{}p.importProxy.Evt=e.Evt})(Ne);var pt={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.LazyStatefulEvt=void 0;var pr=ue(),yr=F,hr=function(){function e(t){this.initialPostCount=0,this.initialState=t}return Object.defineProperty(e.prototype,"evt",{get:function(){return this.__evt===void 0&&(this.__evt=new yr.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,pr.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},enumerable:!1,configurable:!0}),e.prototype.__post=function(t,r){return this.__evt===void 0?(this.initialState=t,++this.initialPostCount):this.__evt[r?"postAndWait":"post"](t)},e.prototype.post=function(t){return this.__post(t,!1)},e.prototype.postAndWait=function(t){return this.__post(t,!0)},e}();Oe.LazyStatefulEvt=hr;(function(e){var t=y&&y.__extends||function(){var p=function(b,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,x){j.__proto__=x}||function(j,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(j[C]=x[C])},p(b,g)};return function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(b,g);function j(){this.constructor=b}b.prototype=g===null?Object.create(g):(j.prototype=g.prototype,new j)}}(),r=y&&y.__read||function(p,b){var g=typeof Symbol=="function"&&p[Symbol.iterator];if(!g)return p;var j=g.call(p),x,C=[],M;try{for(;(b===void 0||b-- >0)&&!(x=j.next()).done;)C.push(x.value)}catch(R){M={error:R}}finally{try{x&&!x.done&&(g=j.return)&&g.call(j)}finally{if(M)throw M.error}}return C},n=y&&y.__spreadArray||function(p,b,g){if(g||arguments.length===2)for(var j=0,x=b.length,C;j<x;j++)(C||!(j in b))&&(C||(C=Array.prototype.slice.call(b,0,j)),C[j]=b[j]);return p.concat(C||Array.prototype.slice.call(b))};Object.defineProperty(e,"__esModule",{value:!0}),e.StatefulEvt=void 0;var o=oe,u=Oe,f=F,s=Ne,_=$e(),h=de,O=function(p){return p()},m=function(p){t(b,p);function b(g){var j=p.call(this)||this;return j.lazyEvtDiff=new o.LazyEvt,j.lazyEvtChangeDiff=new o.LazyEvt,j.__state=g,j.lazyEvtChange=new u.LazyStatefulEvt(j.__state),s.onAddHandlerByEvt.set(j,function(x,C){if(!x.extract){var M=(0,h.id)(void 0),R=j.getInvocableOp(x.op)(j.__state,j.setOpResultForPipe!==void 0?function(W){return M=W}:O);j.setOpResultForPipe!==void 0&&(j.setOpResultForPipe(R),M!==void 0&&M()),R&&C(R)}}),j}return Object.defineProperty(b.prototype,"state",{get:function(){return this.__state},set:function(g){this.state!==g&&this.post(g)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtDiff",{get:function(){return this.lazyEvtDiff.evt},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtChange",{get:function(){return this.lazyEvtChange.evt},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtChangeDiff",{get:function(){return this.lazyEvtChangeDiff.evt},enumerable:!1,configurable:!0}),b.prototype.post=function(g){return this.__post(g,!1,!1)},b.prototype.postForceChange=function(g){return this.__post(g?g[0]:this.state,!0,!1)},b.prototype.postAndWait=function(g){return this.__post(g,!1,!0)},b.prototype.__post=function(g,j,x){var C=this.state;this.__state=g;var M={prevState:C,newState:this.state},R=x?"postAndWait":"post",W=[],V=this.lazyEvtDiff[R](M);if(x&&W.push(V),j||!Object.is(C,this.state)){var X=this.lazyEvtChange[R](this.state),ce=this.lazyEvtChangeDiff[R](M);x&&W.push(X,ce)}var se=p.prototype[R].call(this,g);return x?(W.push(se),Promise.all(W).then(function(){})):se},b.prototype.pipe=function(){for(var g=[],j=0;j<arguments.length;j++)g[j]=arguments[j];var x=void 0;this.setOpResultForPipe=function(M){return x=M};var C=p.prototype.pipe.apply(this,n([],r(g),!1));if((0,_.assert)(x!==void 0),this.setOpResultForPipe=void 0,!x)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return C.toStateful(x[0])},b.prototype.toStateless=function(g){var j=s.onAddHandlerByEvt.get(this);s.onAddHandlerByEvt.delete(this);var x=g?p.prototype.pipe.call(this,g):p.prototype.pipe.call(this);return s.onAddHandlerByEvt.set(this,j),x},b}(s.Evt);e.StatefulEvt=m,f.importProxy.StatefulEvt=e.StatefulEvt})(pt);var yt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.to=void 0;var t=new Map,r=function(n){var o;return(o=t.get(n))!==null&&o!==void 0?o:(t.set(n,function(u){return u[0]!==n?null:[u[1]]}),(0,e.to)(n))};e.to=r})(yt);var je={};Object.defineProperty(je,"__esModule",{value:!0});je.throttleTime=void 0;var _r=Z,mr=function(e){return(0,_r.compose)([function(t,r){var n=r.lastClick,o=Date.now();return o-n<e?null:[{data:t,lastClick:o}]},{lastClick:0,data:null}],function(t){var r=t.data;return[r]})};je.throttleTime=mr;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.nonNullable=void 0;var gr=function(e){return e!=null},br=function(e){return gr(e)?[e]:null},Pr=function(){return br};xe.nonNullable=Pr;var Se={},Er=y&&y.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)u.push(o.value)}catch(s){f={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return u},Ze=y&&y.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,u;n<o;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(Se,"__esModule",{value:!0});Se.distinct=void 0;var wr=Z,Or=function(e,t){var r;return(0,wr.compose)(function(n){var o,u;return[{data:n,selectedKey:(o=e==null?void 0:e(n))!==null&&o!==void 0?o:n,currentFlushCount:(u=t==null?void 0:t.evtDoneOrAborted.postCount)!==null&&u!==void 0?u:0}]},[function(n,o){var u=n.data,f=n.selectedKey,s=n.currentFlushCount,_=o.alreadyPostedData,h=o.previousFlushCount;return[{boxedData:s!==h||!_.has(f)?[u]:null,alreadyPostedData:new Set(Ze(Ze([],Er(s!==h?[]:Array.from(_)),!1),[f],!1)),previousFlushCount:s}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(r=t==null?void 0:t.evtDoneOrAborted.postCount)!==null&&r!==void 0?r:0}],function(n){var o=n.boxedData;return o})};Se.distinct=Or;(function(e){var t=y&&y.__createBinding||(Object.create?function(O,m,p,b){b===void 0&&(b=p);var g=Object.getOwnPropertyDescriptor(m,p);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(O,b,g)}:function(O,m,p,b){b===void 0&&(b=p),O[b]=m[p]}),r=y&&y.__exportStar||function(O,m){for(var p in O)p!=="default"&&!Object.prototype.hasOwnProperty.call(m,p)&&t(m,O,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=e.nonNullable=e.throttleTime=e.to=e.StatefulEvt=e.Evt=e.Ctx=void 0,r(nt,e),r(lt,e);var n=st;Object.defineProperty(e,"Ctx",{enumerable:!0,get:function(){return n.Ctx}});var o=Ne;Object.defineProperty(e,"Evt",{enumerable:!0,get:function(){return o.Evt}});var u=pt;Object.defineProperty(e,"StatefulEvt",{enumerable:!0,get:function(){return u.StatefulEvt}});var f=yt;Object.defineProperty(e,"to",{enumerable:!0,get:function(){return f.to}});var s=je;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return s.throttleTime}});var _=xe;Object.defineProperty(e,"nonNullable",{enumerable:!0,get:function(){return _.nonNullable}});var h=Se;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return h.distinct}})})(rt);var jr=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xr=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sr=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jr(t,e,r);return xr(t,e),t};Object.defineProperty(le,"__esModule",{value:!0});le.useEvt=void 0;var Cr=rt,Mr=Sr(et),Ar=Mr.useEffect;function Dr(e,t){Ar(function(){var r=Cr.Evt.newCtx();return e(r),function(){r.done()}},t)}le.useEvt=Dr;var Ce={},Hr=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zr=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rr=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Hr(t,e,r);return zr(t,e),t},Tr=y&&y.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,u=[],f;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)u.push(o.value)}catch(s){f={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(f)throw f.error}}return u};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.useRerenderOnStateChange=void 0;var Br=le,Fr=Rr(et),Lr=Fr.useState;function $r(e){var t=Tr(Lr(function(){return e.state}),2),r=t[1];(0,Br.useEvt)(function(n){return e.attach(n,function(o){return r(function(){return o})})},[e])}Ce.useRerenderOnStateChange=$r;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useRerenderOnStateChange=e.useEvt=void 0;var t=le;Object.defineProperty(e,"useEvt",{enumerable:!0,get:function(){return t.useEvt}});var r=Ce;Object.defineProperty(e,"useRerenderOnStateChange",{enumerable:!0,get:function(){return r.useRerenderOnStateChange}})})(tt);function Wr(e){const{kcContext:t,i18n:r,doUseDefaultCss:n,Template:o,classes:u}=e,{getClassName:f}=Ct({doUseDefaultCss:n,classes:u}),{msg:s,msgStr:_}=r;jt({kcContext:t,downloadTermMarkdown:async({currentLanguageTag:m})=>{const p=(()=>{switch(m){case"fr":return`${window.kcContext===void 0?"/":window.kcContext.url.resourcesPath+"/build/"}terms/fr.md`;default:return`${window.kcContext===void 0?"/":window.kcContext.url.resourcesPath+"/build/"}terms/en.md`}})();return await fetch(p).then(g=>g.text())}}),tt.useRerenderOnStateChange(Xe);const{url:h}=t,O=Xe.state;return O===void 0?null:Q.jsxs(o,{kcContext:t,i18n:r,doUseDefaultCss:n,classes:u,displayMessage:!1,headerNode:s("termsTitle"),children:[Q.jsx("div",{id:"kc-terms-text",children:Q.jsx(xt,{children:O})}),Q.jsxs("form",{className:"form-actions",action:h.loginAction,method:"POST",children:[Q.jsx("input",{className:Qe(f("kcButtonClass"),f("kcButtonClass"),f("kcButtonClass"),f("kcButtonPrimaryClass"),f("kcButtonLargeClass")),name:"accept",id:"kc-accept",type:"submit",value:_("doAccept")}),Q.jsx("input",{className:Qe(f("kcButtonClass"),f("kcButtonDefaultClass"),f("kcButtonLargeClass")),name:"cancel",id:"kc-decline",type:"submit",value:_("doDecline")})]}),Q.jsx("div",{className:"clearfix"})]})}export{Wr as default};
