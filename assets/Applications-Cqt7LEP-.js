import{j as s}from"./index-BvoXJEUD.js";import{c as v}from"./useGetClassName-A214t1wA.js";import{u as f}from"./useGetClassName-CZySZImX.js";function c(d){return Array.isArray(d)&&d.length===1&&typeof d[0]=="object"&&Object.keys(d[0]).length===0}function k(d){const{kcContext:a,i18n:i,doUseDefaultCss:h,classes:m,Template:o}=d,{getClassName:j}=f({doUseDefaultCss:h,classes:m}),{url:b,applications:{applications:u},stateChecker:x}=a,{msg:n,advancedMsg:l}=i;return s.jsx(o,Object.assign({},{kcContext:a,i18n:i,doUseDefaultCss:h,classes:m},{active:"applications"},{children:s.jsxs("div",Object.assign({className:"row"},{children:[s.jsx("div",Object.assign({className:"col-md-10"},{children:s.jsx("h2",{children:n("applicationsHtmlTitle")})})),s.jsxs("form",Object.assign({action:b.applicationsUrl,method:"post"},{children:[s.jsx("input",{type:"hidden",id:"stateChecker",name:"stateChecker",value:x}),s.jsx("input",{type:"hidden",id:"referrer",name:"referrer",value:x}),s.jsxs("table",Object.assign({className:"table table-striped table-bordered"},{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("td",{children:n("application")}),s.jsx("td",{children:n("availableRoles")}),s.jsx("td",{children:n("grantedPermissions")}),s.jsx("td",{children:n("additionalGrants")}),s.jsx("td",{children:n("action")})]})}),s.jsx("tbody",{children:u.map(e=>s.jsxs("tr",{children:[s.jsxs("td",{children:[e.effectiveUrl&&s.jsx("a",Object.assign({href:e.effectiveUrl},{children:e.client.name&&l(e.client.name)||e.client.clientId})),!e.effectiveUrl&&(e.client.name&&l(e.client.name)||e.client.clientId)]}),s.jsxs("td",{children:[!c(e.realmRolesAvailable)&&e.realmRolesAvailable.map((r,t)=>s.jsxs("span",{children:[r.description?l(r.description):l(r.name),t<e.realmRolesAvailable.length-1&&", "]},r.name)),!c(e.realmRolesAvailable)&&e.resourceRolesAvailable&&", ",e.resourceRolesAvailable&&Object.keys(e.resourceRolesAvailable).map(r=>s.jsxs("span",{children:[!c(e.realmRolesAvailable)&&", ",e.resourceRolesAvailable[r].map(t=>s.jsxs("span",{children:[t.roleDescription?l(t.roleDescription):l(t.roleName)," ",n("inResource")," ",s.jsx("strong",{children:t.clientName?l(t.clientName):t.clientId}),t!==e.resourceRolesAvailable[r][e.resourceRolesAvailable[r].length-1]&&", "]},t.roleName))]},r))]}),s.jsx("td",{children:e.client.consentRequired?e.clientScopesGranted.map(r=>s.jsxs("span",{children:[l(r),r!==e.clientScopesGranted[e.clientScopesGranted.length-1]&&", "]},r)):s.jsx("strong",{children:n("fullAccess")})}),s.jsx("td",{children:e.additionalGrants.map(r=>s.jsxs("span",{children:[l(r),r!==e.additionalGrants[e.additionalGrants.length-1]&&", "]},r))}),s.jsx("td",{children:e.client.consentRequired&&e.clientScopesGranted.length>0||e.additionalGrants.length>0?s.jsx("button",Object.assign({type:"submit",className:v(j("kcButtonPrimaryClass"),j("kcButtonClass")),id:`revoke-${e.client.clientId}`,name:"clientId",value:e.client.id},{children:n("revoke")})):null})]},e.client.clientId))})]}))]}))]}))}))}export{k as default};
